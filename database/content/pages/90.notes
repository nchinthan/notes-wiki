<div class="flex max-w-full flex-col flex-grow"><div data-message-author-role="assistant" data-message-id="2eb89f95-7b4f-412c-8e33-306908a0da6c" dir="auto" class="min-h-8 text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words text-start [.text-message+&amp;]:mt-5" data-message-model-slug="gpt-4o"><div class="flex w-full flex-col gap-1 empty:hidden first:pt-[3px]"><div class="markdown prose w-full break-words dark:prose-invert dark"><p>Here's a concise version of your notes with explanations of <code>fork()</code>, <code>sleep()</code>, and <code>wait()</code>:</p><hr><h3><strong>Fork() in Operating Systems</strong></h3><p><strong>Definition</strong>:<br>The <code>fork()</code> system call is used to create a new process, called the <strong>child process</strong>, as a duplicate of the <strong>parent process</strong>.</p><p><strong>How it works</strong>:</p><ol><li><p><strong>Process Duplication</strong>:<br>The child process is an exact copy of the parent process. It inherits the parent's memory, file descriptors, and resources.</p></li><li><p><strong>Separate Execution</strong>:</p><ul><li>Each process (parent and child) runs independently after the <code>fork()</code>.</li><li>Both processes continue execution from the point where <code>fork()</code> was called.</li></ul></li><li><p><strong>Copy-on-Write Optimization</strong>:</p><ul><li>Memory is initially shared between parent and child.</li><li>If either process modifies memory, a new copy is created to ensure isolation.</li></ul></li><li><p><strong>Return Values</strong>:</p><ul><li><code>0</code>: Indicates the child process is running.</li><li>Positive value: The <strong>PID of the child</strong> is returned to the parent process.</li><li><code>-1</code>: Indicates an error occurred in creating the child process.</li></ul></li></ol><p><strong>Variables Maintenance</strong>:</p><ul><li>The parent and child have <strong>separate address spaces</strong>. Changes made by one process to its variables are not visible to the other process.</li></ul><p><strong>Example</strong>:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">c</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {    <span class="hljs-type">int</span> x = <span class="hljs-number">10</span>;    <span class="hljs-type">pid_t</span> pid = fork();    <span class="hljs-keyword">if</span> (pid == <span class="hljs-number">0</span>) { <span class="hljs-comment">// Child process</span>        x += <span class="hljs-number">5</span>;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Child: x = %d\n"</span>, x);    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pid &gt; <span class="hljs-number">0</span>) { <span class="hljs-comment">// Parent process</span>        x -= <span class="hljs-number">5</span>;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Parent: x = %d\n"</span>, x);    } <span class="hljs-keyword">else</span> {        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Fork failed.\n"</span>);    }    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}</code></div></div></pre><hr><h3><strong>Sleep() System Call</strong></h3><p><strong>Definition</strong>:<br>The <code>sleep()</code> function pauses the execution of the calling process for a specified number of seconds.</p><p><strong>Usage</strong>:</p><ul><li>Useful for delaying execution or synchronizing tasks.</li></ul><p><strong>Example</strong>:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">c</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Process starts...\n"</span>);    sleep(<span class="hljs-number">3</span>); <span class="hljs-comment">// Pause for 3 seconds</span>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Process resumes after sleep.\n"</span>);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}</code></div></div></pre><hr><h3><strong>Wait() System Call</strong></h3><p><strong>Definition</strong>:<br>The <code>wait()</code> system call makes a parent process wait until one of its child processes terminates.</p><p><strong>How it works</strong>:</p><ul><li>The parent retrieves the termination status of the child.</li><li>Ensures proper cleanup of child resources (avoids zombie processes).</li></ul><p><strong>Return Value</strong>:</p><ul><li>The PID of the terminated child.</li><li><code>-1</code> if an error occurs.</li></ul><p><strong>Example</strong>:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">c</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/types.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/wait.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {    <span class="hljs-type">pid_t</span> pid = fork();    <span class="hljs-keyword">if</span> (pid == <span class="hljs-number">0</span>) { <span class="hljs-comment">// Child process</span>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Child process running.\n"</span>);        sleep(<span class="hljs-number">2</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Child process exiting.\n"</span>);    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pid &gt; <span class="hljs-number">0</span>) { <span class="hljs-comment">// Parent process</span>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Parent waiting for child to finish.\n"</span>);        wait(<span class="hljs-literal">NULL</span>); <span class="hljs-comment">// Wait for child to terminate</span>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Child process finished. Parent resumes.\n"</span>);    }    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}</code></div></div></pre><hr><h3><strong>Advantages of Fork</strong></h3><ol><li><strong>Parallel Processing</strong>: Allows multitasking and concurrent execution.</li><li><strong>Code Reuse</strong>: Child inherits the parentâ€™s code and resources.</li><li><strong>Memory Efficiency</strong>: Optimized through copy-on-write.</li><li><strong>Process Isolation</strong>: Each process runs in its own address space.</li></ol><h3><strong>Disadvantages of Fork</strong></h3><ol><li><strong>Memory Overhead</strong>: Even with optimizations, duplicating processes uses memory.</li><li><strong>Resource Duplication</strong>: Open file descriptors and connections are duplicated.</li><li><strong>Complex Communication</strong>: Requires inter-process communication (IPC) for data sharing.</li><li><strong>Performance Impact</strong>: Frequent process creation can slow down the system.</li></ol><hr><h3><rong>Conclusion</strong></h3><p>The <code>fork()</code> system call is fundamental to process creation in operating systems, enabling multitasking and parallel processing. Understanding its behavior, along with <code>sleep()</code> and <code>wait()</code>, is essential for efficient process management.</p></div></div></div></div>