{
    "title": "cache mapping",
    "html": "<div class=\"markdown prose w-full break-words dark:prose-invert dark\"><p data-start=\"0\" data-end=\"75\">Hereâ€™s a concise set of notes on <strong data-start=\"33\" data-end=\"72\">Cache Performance and Cache Mapping</strong>:</p><hr data-start=\"77\" data-end=\"80\"><h2 data-start=\"82\" data-end=\"106\"><strong data-start=\"85\" data-end=\"106\">Cache Performance</strong></h2><ul data-start=\"107\" data-end=\"360\"><li data-start=\"107\" data-end=\"199\">When the processor needs data, it first checks the <strong data-start=\"160\" data-end=\"169\">cache</strong> before accessing main memory.</li><li data-start=\"200\" data-end=\"255\"><strong data-start=\"202\" data-end=\"215\">Cache Hit</strong>: Data found in the cache â†’ Fast access.</li><li data-start=\"256\" data-end=\"360\"><strong data-start=\"258\" data-end=\"272\">Cache Miss</strong>: Data not in the cache â†’ Retrieved from main memory and stored in cache for future use.</li></ul><h3 data-start=\"362\" data-end=\"389\"><strong data-start=\"366\" data-end=\"389\">Performance Metrics</strong></h3><ul data-start=\"390\" data-end=\"558\"><li data-start=\"390\" data-end=\"475\"><strong data-start=\"392\" data-end=\"409\">Hit Ratio (H)</strong>\n<span class=\"katex-display\" style=\"\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>H</mi><mo>=</mo><mfrac><mtext>Hits</mtext><mrow><mtext>Hits</mtext><mo>+</mo><mtext>Misses</mtext></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">H = \\frac{\\text{Hits}}{\\text{Hits} + \\text{Misses}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 2.1297em; vertical-align: -0.7693em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 1.3603em;\"><span style=\"top: -2.314em;\"><span class=\"pstrut\" style=\"height: 3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Hits</span></span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">Misses</span></span></span></span><span style=\"top: -3.23em;\"><span class=\"pstrut\" style=\"height: 3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width: 0.04em;\"></span></span><span style=\"top: -3.677em;\"><span class=\"pstrut\" style=\"height: 3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Hits</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></li><li data-start=\"476\" data-end=\"558\"><strong data-start=\"478\" data-end=\"492\">Miss Ratio</strong>\n<span class=\"katex-display\" style=\"\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>1</mn><mo>âˆ’</mo><mi>H</mi><mo>=</mo><mfrac><mtext>Misses</mtext><mtext>Total&nbsp;Accesses</mtext></mfrac></mrow><annotation encoding=\"application/x-tex\">1 - H = \\frac{\\text{Misses}}{\\text{Total Accesses}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.7278em; vertical-align: -0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 2.0463em; vertical-align: -0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 1.3603em;\"><span style=\"top: -2.314em;\"><span class=\"pstrut\" style=\"height: 3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Total&nbsp;Accesses</span></span></span></span><span style=\"top: -3.23em;\"><span class=\"pstrut\" style=\"height: 3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width: 0.04em;\"></span></span><span style=\"top: -3.677em;\"><span class=\"pstrut\" style=\"height: 3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Misses</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></li></ul><h3 data-start=\"560\" data-end=\"601\"><strong data-start=\"564\" data-end=\"601\">Ways to Improve Cache Performance</strong></h3><ol data-start=\"602\" data-end=\"845\"><li data-start=\"602\" data-end=\"657\"><strong data-start=\"605\" data-end=\"634\">Increase Cache Block Size</strong> â†’ Reduces miss rate.</li><li data-start=\"658\" data-end=\"719\"><strong data-start=\"661\" data-end=\"685\">Higher Associativity</strong> â†’ Reduces conflicts in mapping.</li><li data-start=\"720\" data-end=\"784\"><strong data-start=\"723\" data-end=\"746\">Reduce Miss Penalty</strong> â†’ Faster data transfer from memory.</li><li data-start=\"785\" data-end=\"845\"><strong data-start=\"788\" data-end=\"807\">Reduce Hit Time</strong> â†’ Optimize cache access mechanisms.</li></ol><hr data-start=\"847\" data-end=\"850\"><h2 data-start=\"852\" data-end=\"872\"><strong data-start=\"855\" data-end=\"872\">Cache Mapping</strong></h2><p data-start=\"873\" data-end=\"944\">Determines how data from <strong data-start=\"898\" data-end=\"913\">main memory</strong> is mapped to <strong data-start=\"927\" data-end=\"943\">cache memory</strong>.</p><h3 data-start=\"946\" data-end=\"976\"><strong data-start=\"950\" data-end=\"976\">Types of Cache Mapping</strong></h3><ol data-start=\"977\" data-end=\"2058\"><li data-start=\"977\" data-end=\"1394\"><p data-start=\"980\" data-end=\"1021\"><strong data-start=\"980\" data-end=\"998\">Direct Mapping</strong> (One-to-One Mapping)</p><ul data-start=\"1025\" data-end=\"1394\"><li data-start=\"1025\" data-end=\"1086\">Each block of memory is mapped to a <strong data-start=\"1063\" data-end=\"1072\">fixed</strong> cache line.</li><li data-start=\"1090\" data-end=\"1264\"><strong data-start=\"1092\" data-end=\"1104\">Formula:</strong>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>i</mi><mo>=</mo><mi>j</mi><mspace></mspace><mspace width=\"1em\"></mspace><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">i = j \\mod m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6595em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 0.854em; vertical-align: -0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.05724em;\">j</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right: 1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span></span><ul data-start=\"1148\" data-end=\"1264\"><li data-start=\"1148\" data-end=\"1179\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> = Cache line number</li><li data-start=\"1185\" data-end=\"1223\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.854em; vertical-align: -0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.05724em;\">j</span></span></span></span> = Main memory block number</li><li data-start=\"1229\" data-end=\"1264\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.4306em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> = Number of cache lines</li></ul></li><li data-start=\"1268\" data-end=\"1394\"><strong data-start=\"1270\" data-end=\"1279\">Issue</strong>: If multiple blocks map to the same cache line, they <strong data-start=\"1333\" data-end=\"1346\">overwrite</strong> each other, leading to frequent cache misses.</li></ul></li><li data-start=\"1396\" data-end=\"1709\"><p data-start=\"1399\" data-end=\"1449\"><strong data-start=\"1399\" data-end=\"1428\">Fully Associative Mapping</strong> (Flexible Mapping)</p><ul data-start=\"1453\" data-end=\"1709\"><li data-start=\"1453\" data-end=\"1515\">Any block from memory can be stored in <strong data-start=\"1494\" data-end=\"1501\">any</strong> cache line.</li><li data-start=\"1519\" data-end=\"1579\">No fixed index; only <strong data-start=\"1542\" data-end=\"1549\">tag</strong> is used for identification.</li><li data-start=\"1583\" data-end=\"1629\"><strong data-start=\"1585\" data-end=\"1598\">Advantage</strong>: Eliminates conflict misses.</li><li data-start=\"1633\" data-end=\"1709\"><strong data-start=\"1635\" data-end=\"1651\">Disadvantage</strong>: Higher hardware cost due to complex search operations.</li></ul></li><li data-start=\"1711\" data-end=\"2058\"><p data-start=\"1714\" data-end=\"1765\"><strong data-start=\"1714\" data-end=\"1741\">Set-Associative Mapping</strong> (Compromise Approach)</p><ul data-start=\"1769\" data-end=\"2058\"><li data-start=\"1769\" data-end=\"1846\">Cache is divided into <strong data-start=\"1793\" data-end=\"1801\">sets</strong>, and each set contains <strong data-start=\"1825\" data-end=\"1843\">multiple lines</strong>.</li><li data-start=\"1850\" data-end=\"1941\">A block is mapped to a specific set, but can be placed <strong data-start=\"1907\" data-end=\"1922\">in any line</strong> within that set.</li><li data-start=\"1945\" data-end=\"2016\">If <strong data-start=\"1950\" data-end=\"1955\">N</strong> blocks per set â†’ Called <strong data-start=\"1980\" data-end=\"2013\">N-way set-associative mapping</strong>.</li><li data-start=\"2020\" data-end=\"2058\">Balances <strong data-start=\"2031\" data-end=\"2055\">performance and cost</strong>.</li></ul></li></ol><hr data-start=\"2060\" data-end=\"2063\"><img src=\"https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory-660.webp\" alt=\"cache_memory\" width=\"660\" height=\"330\" srcset=\"https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory.webp 800w,https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory-100.webp 100w,https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory-200.webp 200w,https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory-300.webp 300w,https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory-660.webp 660w,https://media.geeksforgeeks.org/wp-content/uploads/20250116152629616905/cache_memory-768.webp 768w\" loading=\"lazy\"><h2 data-start=\"2065\" data-end=\"2104\"><strong data-start=\"2068\" data-end=\"2104\">Direct Mapping: Memory Structure</strong></h2><ul data-start=\"2105\" data-end=\"2561\"><li data-start=\"2105\" data-end=\"2310\"><p data-start=\"2107\" data-end=\"2142\"><strong data-start=\"2107\" data-end=\"2140\">Main Memory Address Structure</strong></p><ul data-start=\"2145\" data-end=\"2310\"><li data-start=\"2145\" data-end=\"2231\"><strong data-start=\"2147\" data-end=\"2162\">Index Field</strong>: Determines <strong data-start=\"2175\" data-end=\"2195\">which cache line</strong> a memory block will be stored in.</li><li data-start=\"2234\" data-end=\"2310\"><strong data-start=\"2236\" data-end=\"2252\">Block Offset</strong>: Specifies <strong data-start=\"2264\" data-end=\"2278\">which word</strong> inside the block is accessed.</li></ul></li><li data-start=\"2312\" data-end=\"2561\"><p data-start=\"2314\" data-end=\"2343\"><strong data-start=\"2314\" data-end=\"2341\">Cache Address Structure</strong></p><ul data-start=\"2346\" data-end=\"2561\"><li data-start=\"2346\" data-end=\"2419\"><strong data-start=\"2348\" data-end=\"2355\">Tag</strong>: Identifies <strong data-start=\"2368\" data-end=\"2390\">which memory block</strong> is stored in a cache line.</li><li data-start=\"2422\" data-end=\"2496\"><strong data-start=\"2424\" data-end=\"2433\">Index</strong>: Determines <strong data-start=\"2446\" data-end=\"2467\">cache line number</strong> where the block is stored.</li><li data-start=\"2499\" data-end=\"2561\"><strong data-start=\"2501\" data-end=\"2517\">Block Offset</strong>: Locates the <strong data-start=\"2531\" data-end=\"2545\">exact word</strong> in the block.</li></ul></li></ul><h3 data-start=\"2563\" data-end=\"2596\"><strong data-start=\"2567\" data-end=\"2596\">Example of Direct Mapping</strong></h3><ul data-start=\"2597\" data-end=\"2866\"><li data-start=\"2597\" data-end=\"2651\">Memory with <strong data-start=\"2611\" data-end=\"2623\">8 blocks</strong> and cache with <strong data-start=\"2639\" data-end=\"2650\">4 lines</strong>.</li><li data-start=\"2652\" data-end=\"2866\"><strong data-start=\"2654\" data-end=\"2674\">Mapping Formula:</strong>\n<span class=\"katex-display\" style=\"\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>i</mi><mo>=</mo><mi>j</mi><mspace></mspace><mspace width=\"1em\"></mspace><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">i = j \\mod 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6595em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 0.854em; vertical-align: -0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.05724em;\">j</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right: 1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mord\">4</span></span></span></span></span><ul data-start=\"2704\" data-end=\"2866\"><li data-start=\"2704\" data-end=\"2798\">Block <strong data-start=\"2712\" data-end=\"2726\">0 â†’ Line 0</strong>, Block <strong data-start=\"2734\" data-end=\"2748\">1 â†’ Line 1</strong>, ..., Block <strong data-start=\"2761\" data-end=\"2775\">4 â†’ Line 0</strong> (replacing Block 0).</li><li data-start=\"2801\" data-end=\"2866\">If a block is <strong data-start=\"2817\" data-end=\"2829\">replaced</strong>, a new tag is stored in the cache.</li></ul></li></ul><hr data-start=\"2868\" data-end=\"2871\"><h2 data-start=\"2873\" data-end=\"2890\"><strong data-start=\"2876\" data-end=\"2890\">Conclusion</strong></h2><ul data-start=\"2891\" data-end=\"3155\"><li data-start=\"2891\" data-end=\"2961\"><strong data-start=\"2893\" data-end=\"2911\">Direct Mapping</strong> is simple but may cause <strong data-start=\"2936\" data-end=\"2958\">frequent conflicts</strong>.</li><li data-start=\"2962\" data-end=\"3035\"><strong data-start=\"2964\" data-end=\"2993\">Fully Associative Mapping</strong> removes conflicts but is <strong data-start=\"3019\" data-end=\"3032\">expensive</strong>.</li><li data-start=\"3036\" data-end=\"3100\"><strong data-start=\"3038\" data-end=\"3065\">Set-Associative Mapping</strong> balances <strong data-start=\"3075\" data-end=\"3097\">cost &amp; performance</strong>.</li><li data-start=\"3101\" data-end=\"3155\">Cache <strong data-start=\"3109\" data-end=\"3122\">hit ratio</strong> determines overall efficiency.</li></ul><p data-start=\"3157\" data-end=\"3197\" data-is-last-node=\"\">Let me know if you need more details! ðŸš€</p></div>"
}