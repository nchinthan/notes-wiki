{
    "title": "control path data path and inst fetch",
    "html": "<div class=\"markdown prose w-full break-words dark:prose-invert dark\"><h2 data-start=\"0\" data-end=\"66\" class=\"\"><strong data-start=\"3\" data-end=\"64\">üöÄ Instruction Fetch Unit &amp; Processor Units in SimpleRisc</strong></h2>\n<p data-start=\"68\" data-end=\"260\" class=\"\">The <strong data-start=\"72\" data-end=\"104\">Instruction Fetch Unit (IFU)</strong> is responsible for fetching instructions from memory, computing the <strong data-start=\"173\" data-end=\"201\">next instruction address</strong>, and sending the instruction to the next pipeline stage.</p>\n<hr data-start=\"262\" data-end=\"265\" class=\"\" style=\"\">\n<h2 data-start=\"267\" data-end=\"312\" class=\"\"><strong data-start=\"270\" data-end=\"310\">üîπ 9.2.1 Instruction Fetch (IF) Unit</strong></h2>\n<p data-start=\"313\" data-end=\"387\" class=\"\"><strong data-start=\"313\" data-end=\"348\">Key Components &amp; Functionality:</strong><br data-start=\"348\" data-end=\"351\">\n1Ô∏è‚É£ <strong data-start=\"355\" data-end=\"385\">Program Counter (PC or pc)</strong></p>\n<ul data-start=\"391\" data-end=\"565\">\n<li data-start=\"391\" data-end=\"482\" class=\"\" style=\"\">\n<p data-start=\"393\" data-end=\"482\" class=\"\"><strong data-start=\"393\" data-end=\"417\">PC (general concept)</strong>: Holds the address of the <strong data-start=\"444\" data-end=\"464\">next instruction</strong> to be executed.</p>\n</li>\n<li data-start=\"486\" data-end=\"565\" class=\"\" style=\"\">\n<p data-start=\"488\" data-end=\"565\" class=\"\"><strong data-start=\"488\" data-end=\"517\">pc (register in pipeline)</strong>: Stores the value of PC inside the processor.</p>\n</li>\n</ul>\n<p data-start=\"567\" data-end=\"596\" class=\"\">2Ô∏è‚É£ <strong data-start=\"571\" data-end=\"594\">Next PC Calculation</strong></p>\n<ul data-start=\"600\" data-end=\"886\">\n<li data-start=\"600\" data-end=\"687\" class=\"\" style=\"\">\n<p data-start=\"602\" data-end=\"687\" class=\"\">For <strong data-start=\"606\" data-end=\"620\">non-branch</strong> instructions: <code data-start=\"635\" data-end=\"648\">PC = PC + 4</code> (since each instruction is 4 bytes).</p>\n</li>\n<li data-start=\"691\" data-end=\"886\" class=\"\" style=\"\">\n<p data-start=\"693\" data-end=\"723\" class=\"\">For <strong data-start=\"697\" data-end=\"720\">branch instructions</strong>:</p>\n<ul data-start=\"729\" data-end=\"886\">\n<li data-start=\"729\" data-end=\"808\" class=\"\" style=\"\">\n<p data-start=\"731\" data-end=\"808\" class=\"\">If <strong data-start=\"734\" data-end=\"753\">branch is taken</strong>, PC is updated to the <strong data-start=\"776\" data-end=\"805\">target address (branchPC)</strong>.</p>\n</li>\n<li data-start=\"814\" data-end=\"886\" class=\"\" style=\"\">\n<p data-start=\"816\" data-end=\"886\" class=\"\">If <strong data-start=\"819\" data-end=\"832\">not taken</strong>, PC follows normal sequential execution (<code data-start=\"874\" data-end=\"882\">PC + 4</code>).</p>\n</li>\n</ul>\n</li>\n</ul>\n<p data-start=\"888\" data-end=\"923\" class=\"\">3Ô∏è‚É£ <strong data-start=\"892\" data-end=\"921\">Instruction Memory Access</strong></p>\n<ul data-start=\"927\" data-end=\"1187\">\n<li data-start=\"927\" data-end=\"1008\" class=\"\" style=\"\">\n<p data-start=\"929\" data-end=\"1008\" class=\"\"><strong data-start=\"929\" data-end=\"944\">Von Neumann</strong> architecture: Shared memory for both <strong data-start=\"982\" data-end=\"1005\">instructions &amp; data</strong>.</p>\n</li>\n<li data-start=\"1012\" data-end=\"1093\" class=\"\" style=\"\">\n<p data-start=\"1014\" data-end=\"1093\" class=\"\"><strong data-start=\"1014\" data-end=\"1025\">Harvard</strong> architecture: Separate memory for <strong data-start=\"1060\" data-end=\"1076\">instructions</strong> (more common).</p>\n</li>\n<li data-start=\"1097\" data-end=\"1187\" class=\"\" style=\"\">\n<p data-start=\"1099\" data-end=\"1187\" class=\"\">The <strong data-start=\"1103\" data-end=\"1125\">Instruction Memory</strong> provides a <strong data-start=\"1137\" data-end=\"1159\">32-bit instruction</strong> from the address in <code data-start=\"1180\" data-end=\"1184\">pc</code>.</p>\n</li>\n</ul>\n<p data-start=\"1189\" data-end=\"1245\" class=\"\">4Ô∏è‚É£ <strong data-start=\"1193\" data-end=\"1243\">Multiplexer &amp; Control Signal (<code data-start=\"1225\" data-end=\"1240\">isBranchTaken</code>)</strong></p>\n<ul data-start=\"1249\" data-end=\"1490\">\n<li data-start=\"1249\" data-end=\"1404\" class=\"\" style=\"\">\n<p data-start=\"1251\" data-end=\"1277\" class=\"\"><strong data-start=\"1251\" data-end=\"1258\">MUX</strong> selects between:</p>\n<ul data-start=\"1283\" data-end=\"1404\">\n<li data-start=\"1283\" data-end=\"1344\" class=\"\" style=\"\">\n<p data-start=\"1285\" data-end=\"1344\" class=\"\"><strong data-start=\"1285\" data-end=\"1313\">Sequential PC (<code data-start=\"1302\" data-end=\"1310\">PC + 4</code>)</strong> for non-branch instructions.</p>\n</li>\n<li data-start=\"1350\" data-end=\"1404\" class=\"\" style=\"\">\n<p data-start=\"1352\" data-end=\"1404\" class=\"\"><strong data-start=\"1352\" data-end=\"1382\">Branch target (<code data-start=\"1369\" data-end=\"1379\">branchPC</code>)</strong> if branch is taken.</p>\n</li>\n</ul>\n</li>\n<li data-start=\"1408\" data-end=\"1490\" class=\"\" style=\"\">\n<p data-start=\"1410\" data-end=\"1490\" class=\"\"><strong data-start=\"1410\" data-end=\"1436\"><code data-start=\"1412\" data-end=\"1427\">isBranchTaken</code> signal</strong> determines which path to choose based on Table 9.1.</p>\n</li>\n</ul>\n<hr data-start=\"1492\" data-end=\"1495\" class=\"\">\n<h3 data-start=\"1497\" data-end=\"1551\" class=\"\"><strong data-start=\"1501\" data-end=\"1549\">üîπ Table 9.1: Conditions for <code data-start=\"1532\" data-end=\"1547\">isBranchTaken</code></strong></h3>\n<div class=\"overflow-x-auto contain-inline-size\"><table data-start=\"1553\" data-end=\"1897\" node=\"[object Object]\"><thead data-start=\"1553\" data-end=\"1604\"><tr data-start=\"1553\" data-end=\"1604\"><th data-start=\"1553\" data-end=\"1568\">Instruction</th><th data-start=\"1568\" data-end=\"1604\">Condition to Set <code data-start=\"1587\" data-end=\"1602\">isBranchTaken</code></th></tr></thead><tbody data-start=\"1654\" data-end=\"1897\"><tr data-start=\"1654\" data-end=\"1678\"><td><strong data-start=\"1656\" data-end=\"1670\">Non-branch</strong></td><td><code data-start=\"1673\" data-end=\"1676\">0</code></td></tr><tr data-start=\"1679\" data-end=\"1717\"><td><strong data-start=\"1681\" data-end=\"1709\">b (unconditional branch)</strong></td><td><code data-start=\"1712\" data-end=\"1715\">1</code></td></tr><tr data-start=\"1718\" data-end=\"1742\"><td><strong data-start=\"1720\" data-end=\"1734\">call / ret</strong></td><td><code data-start=\"1737\" data-end=\"1740\">1</code></td></tr><tr data-start=\"1743\" data-end=\"1797\"><td><strong data-start=\"1745\" data-end=\"1770\">beq (branch if equal)</strong></td><td><code data-start=\"1773\" data-end=\"1776\">1</code> (if condition met)</td></tr><tr data-start=\"1798\" data-end=\"1854\"><td><strong data-start=\"1800\" data-end=\"1827\">bgt (branch if greater)</strong></td><td><code data-start=\"1830\" data-end=\"1833\">1</code> (if condition met)</td></tr><tr data-start=\"1855\" data-end=\"1897\"><td><strong data-start=\"1857\" data-end=\"1889\">Conditional branch not taken</strong></td><td><code data-start=\"1892\" data-end=\"1895\">0</code></td></tr></tbody></table></div>\n<ul data-start=\"1899\" data-end=\"2096\">\n<li data-start=\"1899\" data-end=\"1987\" class=\"\">\n<p data-start=\"1901\" data-end=\"1987\" class=\"\"><strong data-start=\"1901\" data-end=\"1916\">Branch Unit</strong>: Determines <code data-start=\"1929\" data-end=\"1944\">isBranchTaken</code> using instruction type &amp; flags register.</p>\n</li>\n<li data-start=\"1988\" data-end=\"2096\" class=\"\">\n<p data-start=\"1990\" data-end=\"2096\" class=\"\"><strong data-start=\"1990\" data-end=\"2008\">Flags Register</strong>: Stores comparison results from previous instructions to decide conditional branches.</p>\n</li>\n</ul>\n<hr data-start=\"2098\" data-end=\"2101\" class=\"\">\n<h2 data-start=\"2103\" data-end=\"2145\" class=\"\"><strong data-start=\"2106\" data-end=\"2143\">üîπ 9.2.2 Data Path &amp; Control Path</strong></h2>\n<h3 data-start=\"2147\" data-end=\"2186\" class=\"\"><strong data-start=\"2151\" data-end=\"2186\">‚úî Data Path (Handles Data Flow)</strong></h3>\n<ul data-start=\"2187\" data-end=\"2446\">\n<li data-start=\"2187\" data-end=\"2446\" class=\"\">\n<p data-start=\"2189\" data-end=\"2236\" class=\"\">Includes all <strong data-start=\"2202\" data-end=\"2235\">storage and computation units</strong>:</p>\n<ul data-start=\"2239\" data-end=\"2446\">\n<li data-start=\"2239\" data-end=\"2285\" class=\"\">\n<p data-start=\"2241\" data-end=\"2285\" class=\"\"><strong data-start=\"2241\" data-end=\"2258\">Register File</strong> (stores operand values).</p>\n</li>\n<li data-start=\"2288\" data-end=\"2341\" class=\"\">\n<p data-start=\"2290\" data-end=\"2341\" class=\"\"><strong data-start=\"2290\" data-end=\"2297\">ALU</strong> (performs arithmetic &amp; logic operations).</p>\n</li>\n<li data-start=\"2344\" data-end=\"2401\" class=\"\">\n<p data-start=\"2346\" data-end=\"2401\" class=\"\"><strong data-start=\"2346\" data-end=\"2368\">Instruction Memory</strong> (stores program instructions).</p>\n</li>\n<li data-start=\"2404\" data-end=\"2446\" class=\"\">\n<p data-start=\"2406\" data-end=\"2446\" class=\"\"><strong data-start=\"2406\" data-end=\"2421\">Data Memory</strong> (stores program data).</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 data-start=\"2448\" data-end=\"2494\" class=\"\"><strong data-start=\"2452\" data-end=\"2494\">‚úî Control Path (Directs Data Movement)</strong></h3>\n<ul data-start=\"2495\" data-end=\"2707\">\n<li data-start=\"2495\" data-end=\"2558\" class=\"\">\n<p data-start=\"2497\" data-end=\"2558\" class=\"\"><strong data-start=\"2497\" data-end=\"2513\">Control Unit</strong> generates signals to manage data movement.</p>\n</li>\n<li data-start=\"2559\" data-end=\"2707\" class=\"\">\n<p data-start=\"2561\" data-end=\"2569\" class=\"\">Decides:</p>\n<ul data-start=\"2572\" data-end=\"2707\">\n<li data-start=\"2572\" data-end=\"2609\" class=\"\">\n<p data-start=\"2574\" data-end=\"2609\" class=\"\">When to <strong data-start=\"2582\" data-end=\"2606\">read/write registers</strong>.</p>\n</li>\n<li data-start=\"2612\" data-end=\"2647\" class=\"\">\n<p data-start=\"2614\" data-end=\"2647\" class=\"\">Which <strong data-start=\"2620\" data-end=\"2644\">MUX inputs to select</strong>.</p>\n</li>\n<li data-start=\"2650\" data-end=\"2707\" class=\"\">\n<p data-start=\"2652\" data-end=\"2707\" class=\"\">Whether <strong data-start=\"2660\" data-end=\"2687\">to enable memory access</strong> (for load/store).</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 data-start=\"2709\" data-end=\"2743\" class=\"\"><strong data-start=\"2713\" data-end=\"2743\">üõ£ City Traffic Analogy üö¶</strong></h3>\n<ul data-start=\"2744\" data-end=\"2960\">\n<li data-start=\"2744\" data-end=\"2811\" class=\"\">\n<p data-start=\"2746\" data-end=\"2811\" class=\"\"><strong data-start=\"2746\" data-end=\"2759\">Data Path</strong> = Roads &amp; Vehicles (data moves through hardware).</p>\n</li>\n<li data-start=\"2812\" data-end=\"2880\" class=\"\">\n<p data-start=\"2814\" data-end=\"2880\" class=\"\"><strong data-start=\"2814\" data-end=\"2830\">Control Path</strong> = Traffic Lights &amp; Signals (controls movement).</p>\n</li>\n<li data-start=\"2881\" data-end=\"2960\" class=\"\">\n<p data-start=\"2883\" data-end=\"2960\" class=\"\"><strong data-start=\"2883\" data-end=\"2907\">Smart Traffic System</strong> = Advanced CPU Control Unit (optimizes execution).</p>\n</li>\n</ul>\n<hr data-start=\"2962\" data-end=\"2965\" class=\"\">\n<h2 data-start=\"2967\" data-end=\"2984\" class=\"\"><strong data-start=\"2970\" data-end=\"2984\">üöÄ Summary</strong></h2>\n<p data-start=\"2985\" data-end=\"3014\" class=\"\">‚úî <strong data-start=\"2987\" data-end=\"3013\">Instruction Fetch (IF)</strong>:</p>\n<ul data-start=\"3018\" data-end=\"3180\">\n<li data-start=\"3018\" data-end=\"3067\" class=\"\">\n<p data-start=\"3020\" data-end=\"3067\" class=\"\">Fetches <strong data-start=\"3028\" data-end=\"3048\">next instruction</strong> based on <strong data-start=\"3058\" data-end=\"3064\">PC</strong>.</p>\n</li>\n<li data-start=\"3071\" data-end=\"3119\" class=\"\">\n<p data-start=\"3073\" data-end=\"3119\" class=\"\">Computes <strong data-start=\"3082\" data-end=\"3093\">next PC</strong> (sequential or branch).</p>\n</li>\n<li data-start=\"3123\" data-end=\"3180\" class=\"\">\n<p data-start=\"3125\" data-end=\"3180\" class=\"\">Uses <strong data-start=\"3130\" data-end=\"3152\">Instruction Memory</strong> to retrieve instructions.</p>\n</li>\n</ul>\n<p data-start=\"3182\" data-end=\"3218\" class=\"\">‚úî <strong data-start=\"3184\" data-end=\"3217\">Multiplexer (<code data-start=\"3199\" data-end=\"3214\">isBranchTaken</code>)</strong>:</p>\n<ul data-start=\"3222\" data-end=\"3316\">\n<li data-start=\"3222\" data-end=\"3274\" class=\"\">\n<p data-start=\"3224\" data-end=\"3274\" class=\"\">Chooses between <strong data-start=\"3240\" data-end=\"3250\">PC + 4</strong> or <strong data-start=\"3254\" data-end=\"3271\">branch target</strong>.</p>\n</li>\n<li data-start=\"3278\" data-end=\"3316\" class=\"\">\n<p data-start=\"3280\" data-end=\"3316\" class=\"\">Controlled by the <strong data-start=\"3298\" data-end=\"3313\">Branch Unit</strong>.</p>\n</li>\n</ul>\n<p data-start=\"3318\" data-end=\"3351\" class=\"\">‚úî <strong data-start=\"3320\" data-end=\"3350\">Data Path vs. Control Path</strong>:</p>\n<ul data-start=\"3355\" data-end=\"3533\">\n<li data-start=\"3355\" data-end=\"3439\" class=\"\">\n<p data-start=\"3357\" data-end=\"3439\" class=\"\"><strong data-start=\"3357\" data-end=\"3370\">Data Path</strong> ‚Üí Handles <strong data-start=\"3381\" data-end=\"3411\">data storage &amp; computation</strong> (ALU, Memory, Registers).</p>\n</li>\n<li data-start=\"3443\" data-end=\"3533\" class=\"\">\n<p data-start=\"3445\" data-end=\"3533\" class=\"\"><strong data-start=\"3445\" data-end=\"3461\">Control Path</strong> ‚Üí Directs <strong data-start=\"3472\" data-end=\"3489\">data movement</strong> via control signals (MUX, memory enable).</p>\n</li>\n</ul>\n<p data-start=\"3535\" data-end=\"3585\" class=\"\">Would you like a <strong data-start=\"3552\" data-end=\"3572\">datapath diagram</strong> for this? üöÄ</p></div>"
}