{
    "title": "data hazard mitigation through states",
    "html": "<div class=\"markdown prose w-full break-words dark:prose-invert dark\"><a href=\"https://www.youtube.com/watch?v=jNC9LPc3BI0\">a good video</a><h3 data-start=\"0\" data-end=\"42\" class=\"\"><strong data-start=\"4\" data-end=\"40\">Does the OS Handle Data Hazards?</strong></h3>\n<p data-start=\"43\" data-end=\"258\" class=\"\">No, <strong data-start=\"47\" data-end=\"95\">the OS does not directly handle data hazards</strong>. Instead, data hazards are handled at the <strong data-start=\"138\" data-end=\"156\">hardware level</strong> (inside the CPU) using techniques like <strong data-start=\"196\" data-end=\"255\">pipeline stalls, forwarding, and instruction reordering</strong>.</p>\n<p data-start=\"260\" data-end=\"427\" class=\"\">However, the <strong data-start=\"273\" data-end=\"310\">OS does manage instruction states</strong> at a higher level, primarily for <strong data-start=\"344\" data-end=\"372\">scheduling and execution</strong>, not for resolving data hazards within the pipeline.</p>\n<hr data-start=\"429\" data-end=\"432\" class=\"\" style=\"\">\n<h3 data-start=\"434\" data-end=\"473\" class=\"\"><strong data-start=\"438\" data-end=\"471\">How Are Data Hazards Handled?</strong></h3>\n<p data-start=\"474\" data-end=\"620\" class=\"\">Data hazards occur when an instruction depends on the result of a previous instruction that hasn’t completed. The CPU pipeline manages this using:</p>\n<h4 data-start=\"622\" data-end=\"657\" class=\"\"><strong data-start=\"627\" data-end=\"657\">1. Pipeline Stall (Bubble)</strong></h4>\n<ul data-start=\"658\" data-end=\"852\">\n<li data-start=\"658\" data-end=\"804\" class=\"\" style=\"\">\n<p data-start=\"660\" data-end=\"804\" class=\"\">If an instruction needs data from a previous instruction that hasn’t finished, the CPU inserts <strong data-start=\"755\" data-end=\"777\">NOP (No Operation)</strong> cycles to delay execution.</p>\n</li>\n<li data-start=\"805\" data-end=\"852\" class=\"\" style=\"\">\n<p data-start=\"807\" data-end=\"852\" class=\"\">This is done by the <strong data-start=\"827\" data-end=\"839\">hardware</strong>, not the OS.</p>\n</li>\n</ul>\n<h4 data-start=\"854\" data-end=\"893\" class=\"\"><strong data-start=\"859\" data-end=\"893\">2. Data Forwarding (Bypassing)</strong></h4>\n<ul data-start=\"894\" data-end=\"1065\">\n<li data-start=\"894\" data-end=\"1026\" class=\"\" style=\"\">\n<p data-start=\"896\" data-end=\"1026\" class=\"\">If a result is not yet written to registers but available in a later stage (e.g., ALU result), the CPU forwards the data directly.</p>\n</li>\n<li data-start=\"1027\" data-end=\"1065\" class=\"\" style=\"\">\n<p data-start=\"1029\" data-end=\"1065\" class=\"\">Again, this is a hardware technique.</p>\n</li>\n</ul>\n<h4 data-start=\"1067\" data-end=\"1101\" class=\"\"><strong data-start=\"1072\" data-end=\"1101\">3. Instruction Reordering</strong></h4>\n<ul data-start=\"1102\" data-end=\"1263\">\n<li data-start=\"1102\" data-end=\"1187\" class=\"\" style=\"\">\n<p data-start=\"1104\" data-end=\"1187\" class=\"\">Some CPUs use <strong data-start=\"1118\" data-end=\"1144\">out-of-order execution</strong> to execute independent instructions first.</p>\n</li>\n<li data-start=\"1188\" data-end=\"1263\" class=\"\" style=\"\">\n<p data-start=\"1190\" data-end=\"1263\" class=\"\">This happens at the CPU’s <strong data-start=\"1216\" data-end=\"1247\">instruction scheduling unit</strong>, not in the OS.</p>\n</li>\n</ul>\n<hr data-start=\"1265\" data-end=\"1268\" class=\"\" style=\"\">\n<h3 data-start=\"1270\" data-end=\"1298\" class=\"\"><strong data-start=\"1274\" data-end=\"1296\">What About the OS?</strong></h3>\n<p data-start=\"1299\" data-end=\"1466\" class=\"\">While the <strong data-start=\"1309\" data-end=\"1344\">OS does not handle data hazards</strong>, it does manage <strong data-start=\"1361\" data-end=\"1390\">process and thread states</strong>, which affect instruction execution at a higher level. Some states include:</p>\n<ul data-start=\"1468\" data-end=\"1734\">\n<li data-start=\"1468\" data-end=\"1546\" class=\"\" style=\"\">\n<p data-start=\"1470\" data-end=\"1546\" class=\"\"><strong data-start=\"1470\" data-end=\"1479\">Ready</strong> → The process has all resources needed but is waiting for the CPU.</p>\n</li>\n<li data-start=\"1547\" data-end=\"1597\" class=\"\" style=\"\">\n<p data-start=\"1549\" data-end=\"1597\" class=\"\"><strong data-start=\"1549\" data-end=\"1560\">Running</strong> → The process is actively executing.</p>\n</li>\n<li data-start=\"1598\" data-end=\"1657\" class=\"\" style=\"\">\n<p data-start=\"1600\" data-end=\"1657\" class=\"\"><strong data-start=\"1600\" data-end=\"1611\">Waiting</strong> → The process is waiting for I/O or an event.</p>\n</li>\n<li data-start=\"1658\" data-end=\"1734\" class=\"\" style=\"\">\n<p data-start=\"1660\" data-end=\"1734\" class=\"\"><strong data-start=\"1660\" data-end=\"1671\">Blocked</strong> → The process is paused because it depends on another process.</p>\n</li>\n</ul>\n<p data-start=\"1736\" data-end=\"1839\" class=\"\">The <strong data-start=\"1740\" data-end=\"1756\">OS scheduler</strong> decides when to run processes, but it does not handle hazards in the CPU pipeline.</p>\n<hr data-start=\"1841\" data-end=\"1844\" class=\"\" style=\"\">\n<h3 data-start=\"1846\" data-end=\"1866\" class=\"\"><strong data-start=\"1850\" data-end=\"1864\">Conclusion</strong></h3>\n<ul data-start=\"1867\" data-end=\"2115\" data-is-last-node=\"\" data-is-only-node=\"\">\n<li data-start=\"1867\" data-end=\"1951\" class=\"\" style=\"\">\n<p data-start=\"1869\" data-end=\"1951\" class=\"\"><strong data-start=\"1869\" data-end=\"1951\">Data hazards are resolved at the hardware (CPU pipeline) level, not by the OS.</strong></p>\n</li>\n<li data-start=\"1952\" data-end=\"2020\" class=\"\" style=\"\">\n<p data-start=\"1954\" data-end=\"2020\" class=\"\"><strong data-start=\"1954\" data-end=\"2018\">The OS handles process states, not instruction-level stalls.</strong></p>\n</li>\n<li data-start=\"2021\" data-end=\"2115\" class=\"\" style=\"\">\n<p data-start=\"2023\" data-end=\"2115\" class=\"\"><strong data-start=\"2023\" data-end=\"2115\" data-is-last-node=\"\">The CPU itself uses stalls, forwarding, and out-of-order execution to deal with hazards.</strong></p>\n</li>\n</ul></div>"
}